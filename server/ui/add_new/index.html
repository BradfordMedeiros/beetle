<html>

<body>
<div id="content">
    <div id="title_bar">
        <div onclick="location = '../main/index.html' " id="title">beetle</div>
    </div>
    <div id="inner" >
        <div id="add_content_type">
            <div id="add_from_zip">From zip file</div>
            <input onchange="handleChange(event)" type="file"/>
            <button onclick="handleSubmit()">submit</button>
        </div>
    </div>
</div>
</body>
<head>
    <title>beetle</title>
    <link rel="stylesheet" href="style.css">
    <script>
        let formData = null;
        const uploadFile =  formData => {
          fetch('http://localhost:3000/package/', {
            method: 'POST',
            mode: 'cors',
            body: formData,
          });
        };

        const handleSubmit = () => {
          if (formData) {
            uploadFile(formData);
          }
        };
        const handleChange = () => {
          const file = event.target.files[0];
          const form = new FormData();
          form.append('upload', file)
          formData = form;
        };
    </script>
</head>
</html>
